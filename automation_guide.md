# ğŸ¤– è‡ªåŠ¨åŒ–é…ç½®æŒ‡å—ï¼šé‡‘æ•°æ® -> GitHub è®¢é˜…åˆ—è¡¨

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å®ç°ï¼šç”¨æˆ·åœ¨é‡‘æ•°æ®/è…¾è®¯é—®å·å¡«è¡¨ -> è‡ªåŠ¨æ·»åŠ åˆ° `subscribers.txt` -> è‡ªåŠ¨è¿›å…¥é‚®ä»¶å‘é€åˆ—è¡¨ã€‚

## ğŸ› ï¸ ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å·¥ä½œ

1.  **æ³¨å†Œ Make.com**: è®¿é—® [make.com](https://www.make.com/) æ³¨å†Œä¸€ä¸ªå…è´¹è´¦å·ï¼ˆæ¯æœˆ 1000 æ¬¡æ“ä½œï¼Œè¶³å¤Ÿæ¯å¤© 30 ä¸ªæ–°ç”¨æˆ·ï¼‰ã€‚
2.  **è·å– GitHub Token**:
    *   ç™»å½• GitHub -> Settings -> Developer settings -> Personal access tokens (Tokens classic)ã€‚
    *   ç‚¹å‡» **Generate new token**ã€‚
    *   Note: `Make Automation`ã€‚
    *   Expiration: `No expiration` (æˆ–è€…æ‚¨å–œæ¬¢çš„æœŸé™)ã€‚
    *   Select scopes: å‹¾é€‰ **`repo`** (è¿™æ˜¯å¿…é¡»çš„ï¼Œç”¨äºè¯»å†™æ–‡ä»¶)ã€‚
    *   ç‚¹å‡» Generateï¼Œ**å¤åˆ¶ Token** (ä»¥ `ghp_` å¼€å¤´)ã€‚

## ğŸ”— ç¬¬äºŒæ­¥ï¼šé…ç½® Make.com (æ ¸å¿ƒæ­¥éª¤)

1.  **åˆ›å»º Scenario**:
    *   ç™»å½• Make åå°ï¼Œç‚¹å‡»å³ä¸Šè§’ **"Create a new scenario"**ã€‚

2.  **æ·»åŠ  Trigger (Webhook)**:
    *   ç‚¹å‡»ä¸­é—´çš„å¤§åŠ å·ï¼Œæœç´¢ **"Webhooks"**ã€‚
    *   é€‰æ‹© **"Custom webhook"**ã€‚
    *   ç‚¹å‡» **"Create a webhook"** -> ç»™å®ƒèµ·ä¸ªåï¼ˆå¦‚ `Jinshuju Hook`ï¼‰ -> Saveã€‚
    *   **å¤åˆ¶** ç”Ÿæˆçš„ URLï¼ˆä¾‹å¦‚ `https://hook.us1.make.com/xxxxx`ï¼‰ã€‚

3.  **é…ç½®é‡‘æ•°æ® (Jinshuju)**:
    *   å»é‡‘æ•°æ®åå° -> æ‰“å¼€æ‚¨çš„è¡¨å• -> **è®¾ç½®**ã€‚
    *   æ‰¾åˆ° **"æ•°æ®æ¨é€"** -> **"HTTP æ¨é€"**ã€‚
    *   å‹¾é€‰ "å¼€å¯æ•°æ®æ¨é€"ã€‚
    *   **æ¨é€åœ°å€**: å¡«å…¥åˆšæ‰å¤åˆ¶çš„ Make Webhook URLã€‚
    *   ç‚¹å‡» **"ä¿å­˜è®¾ç½®"**ã€‚
    *   **å…³é”®**: è‡ªå·±å»å¡«ä¸€æ¬¡è¡¨å•ï¼Œå‘ä¸€æ¡æµ‹è¯•æ•°æ®ã€‚
    *   å›åˆ° Make é¡µé¢ï¼Œä½ ä¼šçœ‹åˆ° Webhook æ¨¡å—æ˜¾ç¤º "Successfully determined"ï¼ˆè¡¨ç¤ºå®ƒæ”¶åˆ°äº†æµ‹è¯•æ•°æ®ç»“æ„ï¼‰ã€‚

4.  **æ·»åŠ  GitHub æ¨¡å— (è·å–åŸæ–‡ä»¶)**:
    *   åœ¨ Webhook æ¨¡å—å³ä¾§ç‚¹å‡»åŠ å·ï¼Œæœç´¢ **"GitHub"**ã€‚
    *   é€‰æ‹© **"Get a file"**ã€‚
    *   **Connection**: ç‚¹å‡» Addï¼Œå¡«å…¥æ‚¨çš„ GitHub Tokenã€‚
    *   **Repository**: æ‰‹åŠ¨è¾“å…¥æˆ–é€‰æ‹© `liuujiaxing-cmd/daily-ai-news-agent`ã€‚
    *   **File path**: è¾“å…¥ `subscribers.txt`ã€‚
    *   ç‚¹å‡» OKã€‚

5.  **æ·»åŠ  Text Parser (æ‹¼æ¥å­—ç¬¦ä¸²)**:
    *   ç‚¹å‡»åŠ å·ï¼Œæœç´¢ **"Tools"** -> **"Set variable"**ã€‚
    *   **Variable name**: `new_content`ã€‚
    *   **Variable value**:
        1.  ç‚¹å‡»è¾“å…¥æ¡†ï¼Œé€‰æ‹© GitHub æ¨¡å—çš„ `Data` (è¿™æ˜¯åŸæ–‡ä»¶å†…å®¹)ã€‚
        2.  Make ä¼šè‡ªåŠ¨æŠŠ Base64 è§£ç ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯·ä½¿ç”¨ `toString(Data)`ã€‚
        3.  è¾“å…¥ä¸€ä¸ªæ¢è¡Œç¬¦ (æŒ‰å›è½¦)ã€‚
        4.  é€‰æ‹© Webhook æ¨¡å—ä¸­çš„ `email` å­—æ®µï¼ˆé‡‘æ•°æ®ä¼ è¿‡æ¥çš„ï¼‰ã€‚
    *   æœ€ç»ˆçœ‹èµ·æ¥åƒï¼š`[GitHub: Data] \n [Webhook: entry.field_1]`ã€‚

6.  **æ·»åŠ  GitHub æ¨¡å— (æ›´æ–°æ–‡ä»¶)**:
    *   ç‚¹å‡»åŠ å·ï¼Œæœç´¢ **"GitHub"** -> **"Update a file"**ã€‚
    *   **Repository**: åŒä¸Šã€‚
    *   **File path**: `subscribers.txt`ã€‚
    *   **File Content**: é€‰æ‹©ä¸Šä¸€æ­¥ Tools æ¨¡å—ç”Ÿæˆçš„ `new_content`ã€‚
    *   **SHA**: é€‰æ‹©ç¬¬ 4 æ­¥ (Get a file) è·å–åˆ°çš„ `Sha` å€¼ï¼ˆè¿™æ˜¯ GitHub API è¦æ±‚çš„ä¹è§‚é”ï¼‰ã€‚
    *   **Commit message**: `New subscriber from Jinshuju`ã€‚

7.  **å¯åŠ¨**:
    *   ç‚¹å‡»å·¦ä¸‹è§’çš„ **"Run once"** æµ‹è¯•ä¸€æ¬¡ã€‚
    *   å¦‚æœæˆåŠŸï¼Œå¼€å¯å·¦ä¸‹è§’çš„ **"Scheduling" (ON)**ã€‚

## ğŸ‰ å®Œæˆï¼
ç°åœ¨ï¼Œåªè¦æœ‰äººå¡«è¡¨ï¼Œæ‚¨çš„ GitHub ä»£ç åº“å°±ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€ä»»ä½•äººå·¥å¹²é¢„ã€‚
